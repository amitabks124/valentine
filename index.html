<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Will You Be My Valentine? ðŸ’–</title>

  <style>
    :root{
      --bg-start: #ff9a9e;
      --bg-end: #fad0c4;
      --card-bg: rgba(255,255,255,0.95);
      --accent: #ff4d6d;
      --accent-2: #ff7aa2;
      --muted: #6b6b6b;
      --glass: rgba(255,255,255,0.6);
    }

    html,body{
      height:100%;
    }

    body {
      margin: 0;
      height: 100vh;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: radial-gradient(1200px 600px at 10% 10%, rgba(255,255,255,0.12), transparent),
                  linear-gradient(135deg, var(--bg-start), var(--bg-end));
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    /* floating hearts */
    .hearts {
      position: absolute;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
      z-index: 0;
    }

    .heart {
      position: absolute;
      width: 18px;
      height: 18px;
      background: var(--accent);
      transform: rotate(-45deg);
      left: 50%;
      top: 100%;
      opacity: 0.9;
      border-radius: 4px 4px 0 0;
      box-shadow: 0 6px 18px rgba(0,0,0,0.08);
      animation: floatUp linear infinite;
    }
    .heart::before,
    .heart::after{
      content: "";
      position: absolute;
      width: 18px;
      height: 18px;
      background: var(--accent);
      border-radius: 50%;
    }
    .heart::before{ top: -9px; left: 0; }
    .heart::after{ left: 9px; top: 0; }

    @keyframes floatUp{
      0% { transform: translateY(0) rotate(-45deg) scale(0.8); opacity: 0; }
      10% { opacity: 1; }
      100% { transform: translateY(-140vh) rotate(10deg) scale(1.05); opacity: 0; }
    }

    .card {
      background: linear-gradient(180deg, rgba(255,255,255,0.98), var(--card-bg));
      padding: 2.25rem;
      border-radius: 20px;
      text-align: center;
      box-shadow: 0 20px 50px rgba(0,0,0,0.12);
      max-width: 720px;
      width: min(92%,720px);
      position: relative;
      z-index: 3;
      border: 1px solid rgba(255,255,255,0.6);
      backdrop-filter: blur(6px);
    }

    h1 {
      margin: 0 0 0.9rem 0;
      color: var(--accent);
      font-size: 2.1rem;
      letter-spacing: -0.02em;
      text-shadow: 0 6px 18px rgba(255,77,109,0.08);
      display:flex;
      align-items:center;
      justify-content:center;
      gap:0.6rem;
    }

    p.lead {
      margin: 0 0 1.25rem 0;
      color: var(--muted);
      font-size: 1rem;
    }

    .buttons {
      position: relative;
      height: 120px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:1rem;
      margin-top: 0.6rem;
    }

    button {
      padding: 0.9rem 1.6rem;
      font-size: 1.05rem;
      border: none;
      border-radius: 999px;
      cursor: pointer;
      transition: all 0.18s cubic-bezier(.2,.9,.3,1);
      box-shadow: 0 8px 20px rgba(0,0,0,0.08);
      user-select:none;
    }

    #yesBtn {
      background: linear-gradient(180deg, var(--accent), var(--accent-2));
      color: white;
      padding: 0.95rem 1.8rem;
      font-weight: 600;
      transform: translateZ(0);
      outline: none;
      box-shadow: 0 8px 30px rgba(255,77,109,0.18), 0 2px 0 rgba(0,0,0,0.05) inset;
    }

    #yesBtn:hover {
      transform: translateY(-4px) scale(1.03);
      box-shadow: 0 18px 40px rgba(255,77,109,0.24);
    }

    #noBtn {
      background: linear-gradient(180deg, #eee, #ddd);
      color: #222;
      position: absolute;
      left: 60%;
      top: 0;
      min-width: 120px;
    }

    #noBtn:hover { transform: translateY(-3px); }

    .hidden {
      display: none;
    }

    img {
      max-width: 100%;
      border-radius: 14px;
      margin-top: 1rem;
      display:block;
      margin-left:auto;
      margin-right:auto;
    }

    /* small responsive touches */
    @media (max-width:520px){
      h1 { font-size:1.6rem; }
      .buttons { height: 100px; gap:0.6rem; }
      #noBtn { left: 58%; min-width: 96px; }
    }

    /* confetti canvas */
    #confetti-canvas {
      position: fixed;
      inset: 0;
      z-index: 5;
      pointer-events: none;
    }

    /* final message style */
    .celebrate-title {
      color: #ff2f6a;
      font-size: 2rem;
      margin-bottom:6px;
    }
    .celebrate-sub {
      color:#6b6b6b;
      margin-bottom: 12px;
    }

  </style>
</head>
<body>

  <div class="hearts" aria-hidden="true"></div>

  <div class="card" id="card" role="region" aria-label="Valentine card">
    <h1>Will you be my Valentine? <span aria-hidden="true">ðŸ’˜</span></h1>
    <p class="lead">Click yes to make my dayâ€”I'll celebrate forever âœ¨</p>

    <div class="buttons" aria-hidden="false">
      <button id="yesBtn" aria-label="Yes, I will be your valentine">Yes ðŸ’–</button>
      <button id="noBtn" aria-label="No, I don't want to">No ðŸ™ƒ</button>
    </div>
  </div>

  <canvas id="confetti-canvas" width="600" height="400" aria-hidden="true"></canvas>

  <script>
    // ---------- Floating hearts (background) ----------
    (function createHearts(){
      const container = document.querySelector('.hearts');
      const count = 14;
      for(let i=0;i<count;i++){
        const h = document.createElement('div');
        h.className = 'heart';
        const size = 10 + Math.random()*22;
        h.style.width = size + 'px';
        h.style.height = size + 'px';
        h.style.left = (Math.random()*100) + '%';
        h.style.top = (100 + Math.random()*10) + '%';
        h.style.opacity = 0.6 + Math.random()*0.4;
        h.style.background = (Math.random()>.5) ? 'linear-gradient(180deg,#ff6b8a,#ff4d6d)' : '#ff7aa2';
        h.style.animationDuration = (6 + Math.random()*10) + 's';
        h.style.animationDelay = (-Math.random()*10) + 's';
        h.style.transform = `rotate(${ -40 + Math.random()*80 }deg)`;
        container.appendChild(h);
      }
    })();

    // ---------- No button playful movement ----------
    const noBtn = document.getElementById("noBtn");
    const yesBtn = document.getElementById("yesBtn");
    const card = document.getElementById("card");

    const noTexts = [
      "No ðŸ™ƒ",
      "Are you sure?",
      "Think again ðŸ˜",
      "Wrong choice",
      "Nice try",
      "Still no?",
      "Absolutely not",
      "Okay this is awkward"
    ];

    // smoother move using requestAnimationFrame tween
    function moveNoBtnSmooth(x, y) {
      noBtn.style.transition = 'transform 220ms cubic-bezier(.2,.9,.3,1)';
      noBtn.style.transform = `translate(${x}px, ${y}px)`;
      setTimeout(()=> noBtn.style.transition = '', 260);
    }

    noBtn.addEventListener("mouseover", () => {
      const x = Math.random() * 240 - 120;
      const y = Math.random() * 90 - 45;

      moveNoBtnSmooth(x, y);

      const randomText = noTexts[Math.floor(Math.random() * noTexts.length)];
      noBtn.textContent = randomText;
    });

    // Allow keyboard to 'press' noBtn â€” make it playful: move on focus
    noBtn.addEventListener("focus", () => {
      const x = Math.random() * 200 - 100;
      const y = Math.random() * 60 - 30;
      moveNoBtnSmooth(x, y);
    });

    // ---------- Confetti engine (lightweight) ----------
    (function confettiModule(){
      const canvas = document.getElementById('confetti-canvas');
      const ctx = canvas.getContext('2d');
      let W = canvas.width = window.innerWidth;
      let H = canvas.height = window.innerHeight;
      const particles = [];
      const colors = ['#ff4d6d','#ff7aa2','#ffd166','#ff9fbf','#ff6b8a','#ffb3c6'];

      window.addEventListener('resize', () => {
        W = canvas.width = window.innerWidth;
        H = canvas.height = window.innerHeight;
      });

      function rand(min, max) { return Math.random()*(max-min)+min; }

      function Particle(x,y){
        this.x = x; this.y = y;
        this.size = rand(6,12);
        const angle = rand(-Math.PI, Math.PI);
        const speed = rand(2,9);
        this.vx = Math.cos(angle) * speed;
        this.vy = Math.sin(angle) * speed;
        this.color = colors[Math.floor(Math.random()*colors.length)];
        this.tilt = rand(-0.1, 0.1);
        this.gravity = 0.25 + Math.random()*0.22;
        this.drag = 0.998;
        this.life = 60 + Math.floor(Math.random()*40);
        this.ttl = this.life;
        this.spin = rand(-0.08, 0.08);
      }

      Particle.prototype.update = function(){
        this.vy += this.gravity;
        this.vx *= this.drag;
        this.vy *= this.drag;
        this.x += this.vx;
        this.y += this.vy;
        this.tilt += this.spin;
        this.ttl--;
      };

      Particle.prototype.draw = function(ctx){
        ctx.save();
        ctx.translate(this.x, this.y);
        ctx.rotate(this.tilt);
        ctx.fillStyle = this.color;
        ctx.fillRect(-this.size/2, -this.size/2, this.size, this.size*0.6);
        ctx.restore();
      };

      function emit(x,y,count=30){
        for(let i=0;i<count;i++){
          particles.push(new Particle(x + rand(-10,10), y + rand(-10,10)));
        }
      }

      let rafId;
      function animate(){
        ctx.clearRect(0,0,W,H);
        for(let i = particles.length - 1; i >= 0; i--){
          const p = particles[i];
          p.update();
          p.draw(ctx);
          if (p.ttl <= 0 || p.y > H + 60 || p.x < -60 || p.x > W + 60) {
            particles.splice(i,1);
          }
        }
        rafId = requestAnimationFrame(animate);
      }
      animate();

      // expose a global function to trigger confetti at x,y
      window.blastConfetti = function(x = W/2, y = H/2, bursts = 5){
        for(let i=0;i<bursts;i++){
          setTimeout(()=> emit(x + rand(-60,60), y + rand(-60,60), 18 + Math.floor(rand(8,28))), i*80);
        }
        // optionally stop after some time if many particles accumulate
        setTimeout(()=> {
          // no-op for now â€” particles self-clean
        }, 4000);
      };

    })();

    // ---------- Yes button: trigger confetti and show celebrate message ----------
    yesBtn.addEventListener("click", async (e) => {
      // trigger a strong confetti blast around the button / center of card
      const rect = card.getBoundingClientRect();
      const cx = rect.left + rect.width/2;
      const cy = rect.top + rect.height/2;

      // blast a few waves
      window.blastConfetti(cx, cy, 6);
      window.blastConfetti(cx - 150, cy - 20, 4);
      window.blastConfetti(cx + 140, cy - 20, 4);

      // animate the button
      yesBtn.animate([
        { transform: 'scale(1)' },
        { transform: 'scale(1.06)' },
        { transform: 'scale(1)' }
      ], { duration: 420, easing: 'ease-out' });

      // small delay so confetti starts before replacing content
      setTimeout(()=> {
        card.innerHTML = `
          <h1 class="celebrate-title">I LOVE YOU ðŸ’˜</h1>
          <p class="celebrate-sub">Thank you for making me the happiest person ever.</p>
          <img src="https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/giphy.gif" alt="Happy celebration">
        `;
        // small confetti encore from center of viewport
        window.blastConfetti(window.innerWidth/2, window.innerHeight/3, 8);
      }, 350);
    });

    // Accessibility: allow Enter/Space on yesBtn when focused
    yesBtn.addEventListener('keydown', (ev) => {
      if(ev.key === 'Enter' || ev.key === ' '){
        ev.preventDefault();
        yesBtn.click();
      }
    });

    // Make noBtn also keyboard-playful
    noBtn.addEventListener('keydown', (ev) => {
      if(ev.key === 'Enter' || ev.key === ' '){
        ev.preventDefault();
        // move away so keyboard user experiences the joke
        const x = Math.random() * 260 - 130;
        const y = Math.random() * 80 - 40;
        noBtn.style.transform = `translate(${x}px, ${y}px)`;
      }
    });

  </script>

</body>
</html>
